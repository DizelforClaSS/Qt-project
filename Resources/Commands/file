ИМЯ

файл - определение типа файла


КРАТКИЙ ОБЗОР

/usr/bin/file [-dh] [-m mfile] [-M Mfile] [-f ffile] файл...

/usr/bin/file [-dh] [-M mfile] [-M Mfile] -f ffile

/usr/bin/file -i [-h] [-f ffile] файл...

/usr/bin/file -i [-h] -f ffile

/usr/bin/file -c [-d] [-M mfile] [-M Mfile]

/usr/xpg4/bin/file [-dh] [-M Mfile] [-M Mfile] [-f ffile] файл...

/usr/xpg4/bin/file [-dh] [-M mfile] [-M Mfile] -f ffile

/usr/xpg4/bin/file -i [-h] [-f ffile] файл...

/usr/xpg4/bin/file -i [-h] -f ffile

/usr/xpg4/bin/file -c [-d] [-m mfile] [-M Mfile]


ОПИСАНИЕ

Файловая утилита выполняет серию тестов для каждого файла, предоставленного файлом, и, при необходимости, для каждого файла, перечисленного в ffile, в попытке классифицировать его. Если файл не является обычным файлом, то определяется его тип. Типы файлов directory, FIFO, block special и character special идентифицируются как таковые. Если файл является обычным файлом и имеет нулевую длину, он идентифицируется как пустой файл.

Если файл выглядит как текстовый файл, файл проверяет первые 512 байт и пытается определить свой язык программирования. Если файл является символической ссылкой, то по умолчанию ссылка идет по ней, и файл проверяет файл, на который ссылается символическая ссылка.

Если файл является перемещаемым объектом, исполняемым или общим объектом, файл выводит информацию о требованиях к выполнению файла. Эта информация включает в себя класс машины, порядок байтов, статическую/динамическую связь и любые требования к программному или аппаратному обеспечению. Если файл является конфигурационным файлом связывания среды выполнения, то файл печатает информацию о целевой платформе, включая класс машины и порядок байтов.

По умолчанию файл попытается использовать локализованный магический файл /usr/lib/locale/locale/LC_MESSAGES/magic, если он существует, для идентификации файлов, имеющих магическое число. Например, в японском языке файл попытается использовать /usr/lib/locale/ja/LC_MESSAGES/magic. Если локализованный магический файл не существует, файл будет использовать /etc/magic. Магическое число - это числовая или строковая константа, указывающая тип файла. См. magic(4) для объяснения формата /etc/magic.

Если файл не существует, не может быть прочитан или его состояние не может быть определено, это не считается ошибкой, влияющей на состояние выхода. Вывод будет означать, что файл был обработан, но его тип не может быть определен.
ОПЦИИ

Поддерживаются следующие параметры:

-с

Проверяет волшебный файл на наличие ошибок формата. По соображениям эффективности эта проверка обычно не проводится.

-d

Применяет к файлу любые позиционные и контекстно-зависимые системные тесты по умолчанию.

-f ffile

ffile содержит список файлов, подлежащих проверке.

-h

При обнаружении символической ссылки этот параметр идентифицирует файл как символическую ссылку. Если -h не указан и файл является символической ссылкой, которая ссылается на несуществующий файл, утилита file идентифицирует файл как символическую ссылку, как если бы был указан-h.

-i

Если файл является обычным файлом, этот параметр не пытается классифицировать тип файла дальше, но идентифицирует файл как "обычный файл".

-m mfile

/usr/bin/file

Использует mfile в качестве альтернативного магического файла вместо /etc/magic.

/usr/xpg4/bin/file

Указывает имя файла, содержащего позиционно-чувствительные тесты, которые применяются к файлу для его классификации (см. magic(4)). Если параметр-m указан без указания параметра-d или параметра-M, то позиционно-чувствительные системные тесты по умолчанию применяются после позиционно-чувствительных тестов, указанных параметром-m.

-M Mfile

Указывает имя файла, содержащего позиционно-чувствительные тесты, которые применяются к файлу для его классификации (см. magic(4)). Никакие позиционно-зависимые системные тесты по умолчанию и контекстно-зависимые системные тесты по умолчанию не применяются, если не указан также параметр-d.

Если параметр-M задан с параметром-d, параметром-m или обоими, или если параметр-m задан с параметром-d, то конкатенация позиционно-чувствительных тестов, заданных этими параметрами, применяется в порядке, указанном внешним видом этих параметров.
