ИМЯ

найти - найти файлы


КРАТКИЙ ОБЗОР

/usr/bin/find [-H | -L] path... выражение

/usr/xpg4/bin/find [-H | -L] path... выражение


ОПИСАНИЕ

Утилита поиска рекурсивно спускается по иерархии каталогов для каждого пути поиска файлов, соответствующих логическому выражению, записанному в указанных ниже примерах.

find способен опускаться на произвольную глубину в файловой иерархии и не терпит неудачи из-за ограничений длины пути (если только операнд пути, указанный приложением, не превышает требований PATH_MAX).

find обнаруживает бесконечные циклы; то есть ввод ранее посещенного каталога, который является предком последнего найденного файла.
ОПЦИИ

Поддерживаются следующие параметры:

-H

Приводит к тому, что информация о файле и тип файла, вычисляемые для каждой символьной ссылки, встречающейся в командной строке, являются данными файла, на который ссылается ссылка, а не самой ссылки. Если файл, на который ссылается ссылка, не существует, то информация о файле и его типе относятся к самой ссылке. Информация о файле для всех символических ссылок, отсутствующих в командной строке, является информацией о самой ссылке.

-L

Приводит к тому, что информация о файле и тип файла, вычисляемые для каждой символической ссылки, являются данными файла, на который ссылается ссылка, а не самой ссылки. См. ПРИМЕЧАНИЯ.

Указание более чем одного из взаимоисключающих вариантов-H и -Lis не считается ошибкой. Последний указанный параметр определяет поведение утилиты.
ОПЕРАНДЫ

Поддерживаются следующие операнды:

путь

Путь к начальной точке в иерархии каталогов.

выражение

Первый аргумент, который начинается с -, или это ! или a (, и все последующие аргументы интерпретируются как выражение, состоящее из следующих первичных операторов и операторов. В описаниях, где n используется в качестве основного аргумента, он интерпретируется как десятичное целое число, необязательно предшествующее знаку плюс (+) или минус ( - ), следующим образом:

+n

более n

n

точно n

-n

менее n


Выражения

Допустимыми выражениями являются:

-acl

True, если в файле определены дополнительные списки ACL.

-аmin n.

Последний раз к файлу обращались n минут назад.

-atime n

Верно, если доступ к файлу был получен n дней назад. Время доступа к каталогам в path изменяется самим find.

-cmin n

Статус файла в последний раз менялся n минут назад.

-устройство cpio

Всегда верно. Записывает текущий файл на устройство в формате cpio (5120-байтовые записи).

-ctime n

True, если статус файла был изменен n дней назад.

-depth

Всегда верно. Вызывает спуск иерархии каталогов таким образом, что все записи в каталоге обрабатываются до самого каталога. Это может быть полезно, когда find используется с cpio(1) для передачи файлов, содержащихся в каталогах, без разрешения на запись.

-exec comman

True, если выполненная команда возвращает нулевое значение в качестве состояния выхода. Конец команды должен быть перемежен экранированной точкой с запятой (;). Аргумент команды {} заменяется текущим именем пути. Если последним аргументом для-exec является {} и вы указываете+, а не точку с запятой (;), команда вызывается меньше раз, а {} заменяется группами имен путей. Если какой-либо вызов команды возвращает ненулевое значение в качестве состояния выхода, find возвращает ненулевое состояние выхода.

-follow

Всегда истинно и всегда оценивается независимо от того, где оно появляется в выражении. Поведение не определено, если -follow используется при вызове команды find с параметром-H или-L. Вызывает переход по символическим ссылкам. Следуя по символическим ссылкам, find отслеживает посещенные каталоги, чтобы обнаружить бесконечные циклы. Например, такая петля возникла бы, если бы символическая ссылка указывала на предка. Это выражение не должно использоваться с выражением find-type l. См. ПРИМЕЧАНИЯ.

-fstype type

True, если файловая система, к которой принадлежит файл, имеет тип type.

-group gname

True, если файл принадлежит группе gname. Если gname является числовым и не отображается в файле /etc/group или в таблицах NIS/NIS+, то он принимается в качестве идентификатора группы.

-inum n

True, если файл имеет номер индекса n.

-links n

True, если файл имеет n ссылок.

-local

True, если тип файловой системы не является удаленным типом файловой системы, как определено в файле /etc/dfs/fstypes. nfs используется в качестве типа удаленной файловой системы по умолчанию, если файл /etc/dfs/fstypes отсутствует. Параметр-local спускается по иерархии нелокальных каталогов. Пример поиска локальных файлов без спуска см. в разделе ПРИМЕРЫ.

-ls

Всегда верно. Выводит текущее имя пути вместе с соответствующей статистикой. К ним относятся (соответственно):

o номер индекса

o размер в килобайтах (1024 байта)

o режим защиты

o количество жестких ссылок

o пользователь

o группа

o размер в байтах

o время модификации.

Если файл является специальным файлом, то поле размера вместо этого содержит номера основных и второстепенных устройств.

Если файл представляет собой символическую ссылку, то путь к файлу, связанному с ним, печатается перед" ->". Формат идентичен формату ls -gilds (см. ls(1B)).

Форматирование выполняется внутренне, без выполнения программы ls.

-mmin n

Данные файла были в последний раз изменены n минут назад.

-mount

Всегда верно. Ограничивает поиск файловой системой, содержащей указанный каталог. Не перечисляет точки монтирования в другие файловые системы.

-mtime n

True, если данные файла были изменены n дней назад.

-name pattern

True, если шаблон совпадает с базовым именем текущего имени файла. Можно использовать обычные символы генерации имен файлов оболочки (см. sh(1)). Обратная косая черта (\) используется в качестве escape-символа в шаблоне. Шаблон должен быть экранирован или заключен в кавычки при вызове find из оболочки.

Если символ". "явно не указан в начале шаблона, текущее имя файла, начинающееся с".", не соответствует шаблону при использовании /usr/bin/find. /usr/xpg4/bin/find не делает этого различия; символы генерации подстановочных имен файлов могут совпадать с именами файлов, начинающимися с '.'.

-ncpio device

Всегда верно. Записывает текущий файл на устройство в формате cpio-c (5120 байтовых записей).

-newer file

True, если текущий файл был изменен позже, чем файл аргумента.

-nogroup

True, если файл принадлежит группе, а не файлу /etc/group или таблицам NIS/NIS+.

-nouser

True, если файл принадлежит пользователю, а не в файле /etc/passwd или в таблицах NIS/NIS+.

-ok command

Like -exec, за исключением того, что сгенерированная командная строка сначала печатается с вопросительным знаком и выполняется только в том случае, если ответ утвердительный.

-perm [-]mode

Аргумент mode используется для представления битов режима файла. Он идентичен по формату операнду символьного режима symbolic_mode_list, описанному в chmod(1), и интерпретируется следующим образом. Для начала предполагается, что шаблон имеет все биты режима файла очищенными. Оп символ:

+

Установите соответствующие биты режима в шаблоне

-

Очистите соответствующие биты

=

Установите соответствующие биты режима, независимо от содержимого маски создания режима файла процесса

Символ op - не может быть первым символом mode, чтобы избежать двусмысленности с необязательным ведущим дефисом. Поскольку начальный режим полностью отключен, нет никаких символических режимов, которые нужно использовать - в качестве первого символа.

Если дефис опущен, первичный вычисляется как истинный, когда биты разрешения файла точно соответствуют значению результирующего шаблона.

В противном случае, если mode имеет префикс дефиса, primary вычисляется как true, если по крайней мере все биты в результирующем шаблоне заданы в битах разрешений файла.

-perm [-]onum

True, если флаги разрешений файла точно соответствуют восьмеричному числу onum (см. chmod(1)). Если onum имеет префикс со знаком минус (-), то только биты, заданные в onum, сравниваются с флагами разрешений файла, и выражение вычисляет true, если они совпадают.

-print

Всегда верно. Вызывает печать текущего пути.

-prune

Всегда дает истину. Не проверяет никаких каталогов или файлов в структуре каталогов ниже только что сопоставленного шаблона. (См. ПРИМЕРЫ). Если -глубина указана, -чернослив не действует.

-size n[c]

True, если файл имеет длину n блоков (512 байт на блок). Если за n следует c, то размер выражается в байтах.

-type с

True, если тип файла-c, где c-это b, c, d, D, f, l, p или s для блочного специального файла, символьного специального файла, каталога, двери, обычного файла, символьной ссылки, fifo (именованного канала) или сокета соответственно.

-user uname

True, если файл принадлежит пользователю uname. Если uname является числовым и не отображается в качестве имени входа в файл /etc/passwd или в таблицах NIS/NIS+, то оно принимается в качестве идентификатора пользователя.

-xdev

То же самое, что и первичное крепление.

-xattr

True, если файл имеет расширенные атрибуты.
